<!doctype html><html lang=en><head><title>How I Manage & Setup My Workstation (dotfiles, cronjobs, package installations, and so on) · Emre's Blog
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Emre Yagci"><meta name=description content="I have been an Arch user for about a year, and since I haven&rsquo;t looked back. Though as for all operating systems, rebuilding your system can be a lot of hassle. Especially if you are using a minimalist distribution like Arch, whose users tend to make much more configuration than an average Linux user.
After getting frustrated enough by not taking a backup and building an automation, I finally got to the work of doing so.
In this post, I will introduce you to my automation script, which is not rocket science, though it might give you an insight if you ever decide to build your own."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="How I Manage & Setup My Workstation (dotfiles, cronjobs, package installations, and so on)"><meta name=twitter:description content="I have been an Arch user for about a year, and since I haven’t looked back. Though as for all operating systems, rebuilding your system can be a lot of hassle. Especially if you are using a minimalist distribution like Arch, whose users tend to make much more configuration than an average Linux user.
After getting frustrated enough by not taking a backup and building an automation, I finally got to the work of doing so. In this post, I will introduce you to my automation script, which is not rocket science, though it might give you an insight if you ever decide to build your own."><meta property="og:url" content="https://www.meyagci.com/posts/how-i-manage-and-setup-my-workstation-dotfiles-cronjobs-package-installations/"><meta property="og:site_name" content="Emre's Blog"><meta property="og:title" content="How I Manage & Setup My Workstation (dotfiles, cronjobs, package installations, and so on)"><meta property="og:description" content="I have been an Arch user for about a year, and since I haven’t looked back. Though as for all operating systems, rebuilding your system can be a lot of hassle. Especially if you are using a minimalist distribution like Arch, whose users tend to make much more configuration than an average Linux user.
After getting frustrated enough by not taking a backup and building an automation, I finally got to the work of doing so. In this post, I will introduce you to my automation script, which is not rocket science, though it might give you an insight if you ever decide to build your own."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-17T05:34:52+08:00"><meta property="article:modified_time" content="2021-08-17T05:34:52+08:00"><link rel=canonical href=https://www.meyagci.com/posts/how-i-manage-and-setup-my-workstation-dotfiles-cronjobs-package-installations/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.ed30115a76cdaa62f2229e973d5b1c89b2d3dd4b1d9c07a729baad06aa3b0cbe.css integrity="sha256-7TARWnbNqmLyIp6XPVscibLT3UsdnAenKbqtBqo7DL4=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/icon.png sizes=32x32><link rel=icon type=image/png href=/icon.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://www.meyagci.com/>Emre's Blog
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/>Home</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://www.meyagci.com/posts/how-i-manage-and-setup-my-workstation-dotfiles-cronjobs-package-installations/>How I Manage & Setup My Workstation (dotfiles, cronjobs, package installations, and so on)</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2021-08-17T05:34:52+08:00>August 17, 2021
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
5-minute read</span></div></div></header><div class=post-content><p>I have been an Arch user for about a year, and since I haven&rsquo;t looked back. Though as for all operating systems, rebuilding your system can be a lot of hassle. Especially if you are using a minimalist distribution like Arch, whose users tend to make much more configuration than an average Linux user.</p><p>After getting frustrated enough by not taking a backup and building an automation, I finally got to the work of doing so.
In this post, I will introduce you to my automation script, which is not rocket science, though it might give you an insight if you ever decide to build your own.</p><p>I won&rsquo;t go into much details on the usage of the programs I will mention, such as GNU Stow. The reason is, my aim being, like I mentioned above, to give you an idea on how I handle things, and I believe contents that prepared solely to introduce those programs would be more beneficial.</p><hr><h2 id=1--dotfiles-management-gnu-stow>1-) Dotfiles management: GNU Stow
<a class=heading-link href=#1--dotfiles-management-gnu-stow><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>(GNU Stow)[https://www.gnu.org/software/stow/] is a symlinks factory which we can have individual directories for each program in a directory we track via a version control system, and create symbolic links to their places with one simple command.</p><p><img src=/dotfiles_ls.png alt="The directory for my dotfiles in the home directory"></p><p>Let&rsquo;s look into bash directory:</p><p><img src=/dotfiles_bash_tree.png alt="bash directory in ~/.dotfiles/"></p><blockquote><p>Info: tree is a one nice command that you can list contents of directories in a tree-like format.</p></blockquote><p>We have .bash_profile file, and a bash directory in .config directory. Looks the way how they would be placed in home directory, right? That&rsquo;s the working methodology of GNU Stow. When in your dotfiles directory, you run the following command for the program whose files you want to be symlinked to:</p><p><code>stow bash</code></p><p>What the command above does is symlinking directories and files of the selected program accordingly to its hierarchical structure, taking starting point as the parent folder of the .dotfiles directory, which in this case is the home directory. And the final result is:</p><p><img src=/dotfiles_ls.png alt></p><p><img src=/dotfiles_bashprofile_link.png alt></p><p>Of course, by using options, dotfiles directory and target directory can be specified so that you won&rsquo;t have to cd into it:</p><p><code>stow --dir=$HOME/.dotfiles/ --target=$HOME/ bash</code></p><p>That&rsquo;s pretty much all I want to mention about GNU Stow in this post. In the past, I used Git Bare Repository method, but I like the structure and usage of Stow more. Also, its unstowing option is really good when/if you don&rsquo;t want to use a program anymore but still want to keep its configuration files, or testing out different configurations and want to easily switch between them.</p><h2 id=2--before-abandoning-the-ship-running-the-checkout-script>2-) Before abandoning the ship: Running the checkout script
<a class=heading-link href=#2--before-abandoning-the-ship-running-the-checkout-script><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>One other problem I used to face was the realization that I forgot to backup something. So I have written a basic shell script for it: checkout. What it does is basically checking a few repositories I specified for any changes that are not committed & pushed. It also reminds me a few tasks I need to do manually:</p><p><img src=/checkout_script.png alt></p><p><a href=https://github.com/memreyagci/dotfiles/blob/master/personal_scripts/.local/bin/scripts/checkout class=external-link target=_blank rel=noopener>Click here</a> to check out the script.</p><h2 id=3--finally-the-script-for-automated-setup>3-) Finally, the script for automated setup
<a class=heading-link href=#3--finally-the-script-for-automated-setup><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>You partitioned your disks, setup the encryption and all the other things. You booted up the computer, and here comes the boring part: Pulling your dotfiles, placing them to their correct places, then installing the programs you need only to find out later that you forgot to some necessary stuff in a moment that the time is running out for you. Tap-to-click for touchpad doesn&rsquo;t work? Gotta hit to stackoverflow to solve the issue again.</p><p>..unless you note down all the necessary stuff for your system and build an automation script.</p><p>What the script basically does is:</p><ul><li>Creating a user which can have root privileges with password.</li><li>Enabling <a href=https://aur.chaotic.cx/ class=external-link target=_blank rel=noopener>Chaotic AUR</a> repository.</li><li>Refreshing package database and installing necessary programs. I store the package names in a csv file that indicates name, installation method, purpose of the program.</li><li>Installing my dotfiles.</li><li>Enabling background services with systemctl.</li></ul><hr><blockquote><p>Tip: When one wants to start a newly-installed background service, most users tend to do the following:</p></blockquote><pre tabindex=0><code>systemctl enable SERVICE_NAME
systemctl start SERVICE_NAME
</code></pre><blockquote><p>The start command is to start the service without needing to reboot. Did you know that you could do the same thing providing the enable command with &ndash;now flag?:</p></blockquote><pre tabindex=0><code>systemctl enable --now SERVICE_NAME
</code></pre><blockquote><p>In one command, you enabled & also started the service.</p></blockquote><hr><ul><li>Setting cronjobs.</li><li>Installing my build of suckless utilities (window manager, statusbar, terminal emulator, lockscreen, menu application)</li><li>Some other small tasks like enabling tap-to-click, setting default user shell to ZSH, and so on.</li></ul><hr><p>To run the script:</p><pre tabindex=0><code>$ git clone https://github.com/memreyagci/workstation-installation-script /tmp/workstation-installation-script

$ cd /tmp/workstation-installation-script

$ ./installation-script.sh
</code></pre><p>And finally reboot your computer after the installation has finished.</p><p>To be honest, I wrote the code quite clumsily. Except the installations from AUR repository via yay (which is only 2 programs during the preparation of this post), everything works, though I already have a set of goals for improvements.</p><hr><p>Goals:</p><ul><li>Fixing installation of AUR packages.</li><li>Better error handling.</li><li>Creating a log file.</li><li>More aesthetically written user messages.</li><li>Handling backups automatically. What I have in mind is improving the checkout script in a way that it will be able to take a backup of the directories I specified and move them to an external drive. I might even use encryption while doing so by using veracrypt.</li><li>More and more automation.</li></ul></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2024
Emre Yagci
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>